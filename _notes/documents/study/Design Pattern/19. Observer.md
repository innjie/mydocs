# Observer pattern
상태의 변경을 감지하고, 지켜보는 패턴. 여러 개의 객체들이 한개의 상태변화를 감지하고 반응할 때 적용한다.
`pubslish - subscribe` 를 구현하기에 적합하다.

<hr>

# Code Example

## Client
```java
public class Client {
  public static void main(String[] args) {
    ChatServer chatServer = new ChatServer();
    
    User user1 = new User(chatServer);
    user1.sendMessage("design pattern", "observer");
    user1.sendMessage("2022", "test");
    
    User user2 = nwe User(chatServer);
    
    user1.sendMessage("design pattern", "code");
  }
}
```

<hr>

## Subscriber
```java
public interface Subscriber {
  void handleMessage(String message);
}
```

## User
```java
public class User implements Subscriber {
  private String name;
  
  @Override
  public void handleMessage (String meassage); {
  }
  //getter, constructor
}
```

## ChatServer

```java
public class ChatServer {
  private Map<String, List<Subscribe> subscribers = new HashMap<>();
  public void register(String subject, Subscriber subscriber) {
    if(subscribers.containsKey(subject)) {
      subscribers.get(subject).add(subscriber);
    } else {
      List<Subscriber> list = new ArrayList<>();
      list.add(subscriber);
      this.subscribers.put(subject, list);
    }
  }
  
  public void unregister(String subject, Subscriber subscriber) {
    if(subscribers.containsKey(subject)) {
      subscribers.get(subject).remove(subscriber);
    }
  }
}
``` 

